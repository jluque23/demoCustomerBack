<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>UserController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">demo</a> &gt; <a href="index.source.html" class="el_package">com.example.demo.Controller</a> &gt; <span class="el_source">UserController.java</span></div><h1>UserController.java</h1><pre class="source lang-java linenums">package com.example.demo.Controller;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping(&quot;/api/user&quot;)
<span class="fc" id="L8">public class UserController {</span>
 
    /* @Autowired
    private IUserService userService;
        
    @GetMapping
    public List&lt;User&gt; findAllUsers() {
        return userService.findAll();
    }
 
    @GetMapping(&quot;/{id}&quot;)
    public ResponseEntity&lt;?&gt; findUserById(@PathVariable(value = &quot;id&quot;) Long id) {
        User user = null;

        Map&lt;String,Object&gt; response = new HashMap&lt;&gt;();

        try {
            user = userService.findUserById(id);
        } catch (DataAccessException e){
            response.put(&quot;message&quot;, &quot;Error with db&quot;);
            response.put(&quot;error&quot;, e.getMessage().concat(&quot;: &quot;).concat(e.getMostSpecificCause().getMessage()));
            return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(response, HttpStatus.INTERNAL_SERVER_ERROR);
        }
        if ( user == null){
            response.put(&quot;mensaje&quot;, &quot;The ID user: &quot;.concat(id.toString().concat(&quot; Doesn't exist on the database&quot;)));
			return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(response, HttpStatus.NOT_FOUND);
        }
        return new ResponseEntity&lt;User&gt;(user, HttpStatus.OK);
    }
 
    @PostMapping
    public ResponseEntity&lt;?&gt; saveUser(@Validated @RequestBody User user) {
        User userNew = null;
        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();

        try {
            userNew = userService.save(user);
        } catch(DataAccessException e){
            response.put(&quot;message&quot;, &quot;Error inserting to database&quot;);
            response.put(&quot;error&quot;, e.getMessage().concat(e.getMostSpecificCause().getMessage()));
            return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(response, HttpStatus.INTERNAL_SERVER_ERROR);
        }
        response.put(&quot;message&quot;, &quot;The user was created succesfully&quot;);
        response.put(&quot;user&quot;, userNew);
        return new ResponseEntity&lt;Map&lt;String,Object&gt;&gt;(response, HttpStatus.OK);
    }

    @PutMapping(&quot;/{id}&quot;)
    public ResponseEntity&lt;?&gt; update(@RequestBody User user, @PathVariable Long id){
        User actualUser = userService.findUserById(id);
        User updatedUser = null;
        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();

        if(actualUser == null){
            response.put(&quot;message&quot;, &quot;Error: it can't be edited, The User id: &quot;
					.concat(id.toString().concat(&quot; doesn't exists on the db&quot;)));
			return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(response, HttpStatus.NOT_FOUND);
        }
        try {
            actualUser.setEnabled(user.getEnabled());
            actualUser.setPassword(user.getPassword());
            actualUser.setUsername(user.getUsername());
            updatedUser = userService.save(actualUser);
        } catch(DataAccessException e){
            response.put(&quot;message&quot;, &quot;Error Updating db&quot;);
            response.put(&quot;error&quot;, e.getMessage().concat(&quot;: &quot;).concat(e.getMostSpecificCause().getMessage()));
			return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(response, HttpStatus.INTERNAL_SERVER_ERROR);
        }
        response.put(&quot;message&quot;, &quot;The user was updated succesfully&quot;);
		response.put(&quot;user&quot;, updatedUser);
		return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(response, HttpStatus.CREATED);
    } */
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>